# HTTP

## 1. 前言

### **为解决文本传输而产生的 HTTP 协议**

> 1989 年 3 月，CERN（欧洲核子研究组织）的蒂姆·伯纳斯-李（Tim Berners-Lee）博士提出了一种能让远隔两地的研究者们共享知识的设想。最初设想的基本理念是：借助多文档之间相互关联形成的超文本（HyperText），连成可相互参阅的 WWW（World Wide Web，万维网）。
>
> 现在已提出了 3 项 WWW 构建技术，分别是：把 SGML（Standard GeneralizedMarkup Language，标准通用标记语言）作为页面的文本标记语言的 HTML（HyperText Markup Language，超文本标记语言）；作为文档传递协议的 HTTP；指定文档所在地址的 URL（Uniform Resource Locator，统一资源定位符）。

> **_当年 HTTP 协议的出现主要是为了解决文本传输的难题_**。由于协议本身非常简单，于是在此基础上设想了很多应用方法并投入了实际使用。现在 HTTP 协议已经超出了 Web 这个框架的局限，被运用到了各种场景里。

### **HTTP 协议具体做了啥**

协议，即协作双方（或多方）通过共同协商，达成统一意见后，订立的一种文书。通俗一点说，我们都认为这玩意（🐖）应该叫“zhu”，写作“猪”，那么我们以后的对话中，我说了“zhu”、写了“猪”，你就能明白我的意思了。同理，对于网络中通信的两台计算机，如果他们之间要进行通信，也需要商定对应的协议，否则，你管这个叫“猪”，我管这个叫“豚”，没法沟通。

计算机之间的通信协议，一般称之为“网络协议”，主要由`语法`，`语义`，`时序`三要素组成：

- 语法：即数据与控制信息的结构或格式；

- 语义：即需要发出何种控制信息，完成何种动作以及做出何种响应；

- 时序（同步），即事件实现顺序的详细说明。

http 协议作为网络协议的一种，自然也遵循这三要素。http 协议规定了通信报文的格式，规定了客户端（请求端）及服务端（响应端）如何响应报文，规定了总是要从客户端先发起连接，服务端响应请求并返回。

## 2. HTTP 基本信息

- HTTP 协议是用于客户端与服务端进行通信的协议

- HTTP 协议规定，请求总是从客户端发起，服务端响应该请求并返回（时序）

  - 请求

    请求报文是由请求方法、请求 URI、协议版本、可选的请求首部字段和内容实体构成的。

  - 响应

    响应报文基本上由协议版本、状态码（表示请求成功或失败的数字代码）、用以解释状态码的原因短语、可选的响应首部字段以及实体主体构成。

- HTTP 协议是一种无状态协议

  用 HTTP 协议，每当有新的请求发送时，就会有对应的新响应产生。协议本身并不保留之前一切的请求或响应报文的信息。这是为了更快地处理大量事务，确保协议的可伸缩性，而特意把 HTTP 协议设计成如此简单的。

  HTTP/1.1 虽然是无状态协议，但为了实现期望的保持状态功能，于是引入了 Cookie 技术。有了 Cookie 再用 HTTP 协议通信，就可以管理状态了。

## 3. HTTP 协议报文（message）格式（语法）

用于 HTTP 协议交互的信息被称为 HTTP 报文。请求端（客户端）的 HTTP 报文叫做请求报文，响应端（服务器端）的叫做响应报文。

HTTP 报文本身是由多行（用 CR+LF 作换行符）数据构成的字符串文本。

HTTP 报文大致可分为报文首部和报文主体两块。两者由空行（CR+LF）来划分。通常，并不一定要有报文主体。

### **请求报文格式**

### **响应报文格式**

## 4. HTTP 状态码（语义）

- 1XX（处理中）

- 2XX（处理完成）

- 3XX（重定向）

- 4XX（无法处理）

- 5XX（处理出错）

## 5. HTTP 首部

参考：

[协议-百度百科](https://baike.baidu.com/item/%E5%8D%8F%E8%AE%AE/13020269)
